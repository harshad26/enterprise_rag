<div class="min-h-screen bg-gray-50 flex flex-col">
  <!-- Navbar / Header -->
  <header class="bg-white shadow">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 002-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
        </svg>
        <h1 class="text-xl font-bold text-gray-900 tracking-tight">Enterprise <span class="text-blue-600">RAG</span></h1>
      </div>
      <div>
        <% if user_signed_in? %>
          <%= link_to "Manage Documents", documents_path, class: "text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors" %>
        <% else %>
          <%= link_to "Admin Login", new_user_session_path, class: "text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors" %>
        <% end %>
      </div>
    </div>
  </header>

  <!-- Hero Search Section -->
  <main class="flex-grow flex flex-col items-center justify-center -mt-16 px-4 sm:px-6 lg:px-8">
    <div class="w-full max-w-3xl text-center space-y-8">
      
      <div class="space-y-4">
        <h2 class="text-4xl sm:text-5xl font-extrabold text-gray-900 tracking-tight">
          Find what you're looking for, <br class="hidden sm:block"/>
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600">instantly.</span>
        </h2>
        <p class="text-lg text-gray-500 max-w-2xl mx-auto">
          Search across all enterprise documents securely and get AI-powered insights in seconds.
        </p>
      </div>

      <!-- Search Form -->
      <%= form_with url: search_path, method: :get, class: "max-w-2xl mx-auto w-full relative group", local: true do |form| %>
        <div class="relative flex items-center w-full h-16 rounded-full focus-within:shadow-lg bg-white overflow-hidden shadow-md border border-gray-200 transition-shadow duration-300">
          <div class="grid place-items-center h-full w-14 text-gray-400">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </div>

          <%= form.text_field :query, 
              class: "peer h-full w-full outline-none text-lg text-gray-700 pr-4 bg-transparent border-none focus:ring-0", 
              placeholder: "Ask a question or search for keywords...",
              autocomplete: "off",
              autofocus: true %>

          <button type="submit" class="absolute right-2 top-2 bottom-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-full px-6 transition-colors shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
            Search
          </button>
        </div>
      <% end %>

      <!-- Recommended Searches (Optional UI) -->
      <% if @query.blank? %>
        <div class="pt-6 flex flex-wrap justify-center gap-2 text-sm text-gray-500">
          <span class="mt-1">Try:</span>
          <%= link_to "Company Policies", search_path(query: "Company Policies"), class: "px-3 py-1 bg-white border border-gray-200 rounded-full hover:bg-gray-50 hover:text-blue-600 transition-colors cursor-pointer shadow-sm" %>
          <%= link_to "Q3 Financials", search_path(query: "Q3 Financials"), class: "px-3 py-1 bg-white border border-gray-200 rounded-full hover:bg-gray-50 hover:text-blue-600 transition-colors cursor-pointer shadow-sm" %>
          <%= link_to "Onboarding Guide", search_path(query: "Onboarding Guide"), class: "px-3 py-1 bg-white border border-gray-200 rounded-full hover:bg-gray-50 hover:text-blue-600 transition-colors cursor-pointer shadow-sm" %>
        </div>
      <% end %>

    </div>

    <!-- Future Search Results Section placeholder -->
    <% if @query.present? %>
      <div class="w-full max-w-4xl mt-12 mb-20">
        <h3 class="text-xl font-semibold mb-6 flex items-center text-gray-800">
          <svg class="w-5 h-5 mr-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
          Results for "<%= @query %>"
        </h3>
        
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-8 text-center" style="align-content: justify;">
          <p class="text-gray-500 text-lg"><%= @results["results"] %></p>
        </div>
      </div>
    <% end %>
  </main>
</div>
